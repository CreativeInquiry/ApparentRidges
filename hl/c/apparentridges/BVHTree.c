// Generated by HLC 4.1.3 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <apparentridges/BVHTree.h>
extern hl_type t$hl_types_ArrayBytes_Int;
extern hl_type t$_dyn;
#include <hl/types/ArrayBase.h>
hl__types__ArrayBase hl_types_ArrayObj_slice(hl__types__ArrayObj,int,vdynamic*);
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$hl_types_ArrayBase;
#include <hl/types/ArrayBytes_Float.h>
extern hl_type t$hl_types_ArrayBytes_Float;
double Math_min(double,double);
void hl_types_ArrayBytes_Float___expand(hl__types__ArrayBytes_Float,int);
double Math_max(double,double);
extern hl_type t$apparentridges_BBox;
void apparentridges_BBox_new(apparentridges__BBox);
#include <hl/natives.h>
hl__types__ArrayBytes_Float hl_types_ArrayBase_allocF64(vbyte*,int);
#include <apparentridges/BVHBucket.h>
#include <_std/Math.h>
extern hl_type t$apparentridges_BVHNode;
void apparentridges_BVHNode_new(apparentridges__BVHNode,apparentridges__BBox,int,int);
extern hl_type t$apparentridges_BVHPartition;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$apparentridges_BVHBucket;
void apparentridges_BVHBucket_new(apparentridges__BVHBucket);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
void apparentridges_BVHPartition_new(apparentridges__BVHPartition);
extern $Math g$_Math;
extern hl_type t$ctx_ac79a5d;
extern hl_type t$fun_5ba86e3;
extern hl_type t$_i32;
extern hl_type t$fun_08c7f86;
void hl_types_ArrayObj_sort(hl__types__ArrayObj,vclosure*);
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
extern hl_type t$fun_e96471a;
extern hl_type t$fun_7f200c4;
extern hl_type t$ctx_5cc8492;
extern hl_type t$fun_63d9a60;

int apparentridges_BVHTree_build__$4(vclosure* r0,vdynamic* r1,vdynamic* r2) {
	hl__types__ArrayBytes_Int r3, r4;
	int r5;
	r3 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r1,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	r4 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r2,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	r5 = r0->hasValue ? ((int (*)(vdynamic*,hl__types__ArrayBytes_Int,hl__types__ArrayBytes_Int))r0->fun)((vdynamic*)r0->value,r3,r4) : ((int (*)(hl__types__ArrayBytes_Int,hl__types__ArrayBytes_Int))r0->fun)(r3,r4);
	return r5;
}

void apparentridges_BVHTree_new(apparentridges__BVHTree r0,apparentridges__Mesh r1,int* r2,int* r3) {
	hl__types__ArrayObj r8;
	hl__types__ArrayBase r7;
	vdynamic *r9;
	int r4, r5, r6;
	if( r2 ) goto label$8dcb8e4_2_3;
	r4 = 4;
	goto label$8dcb8e4_2_4;
	label$8dcb8e4_2_3:
	r4 = *r2;
	label$8dcb8e4_2_4:
	if( r3 ) goto label$8dcb8e4_2_7;
	r5 = 8;
	goto label$8dcb8e4_2_8;
	label$8dcb8e4_2_7:
	r5 = *r3;
	label$8dcb8e4_2_8:
	r0->maxLeafSize = r4;
	r0->bucketCount = r5;
	if( r1 == NULL ) hl_null_access();
	r8 = r1->faces;
	if( r8 == NULL ) hl_null_access();
	r6 = 0;
	r9 = NULL;
	r7 = hl_types_ArrayObj_slice(r8,r6,r9);
	r8 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$hl_types_ArrayBase,&t$hl_types_ArrayObj);
	r0->faces = r8;
	r0->mesh = r1;
	return;
}

void apparentridges_BVHTree_build__$1(apparentridges__BVHTree r0,apparentridges__BBox r1,hl__types__ArrayBytes_Int r2) {
	hl__types__ArrayObj r3;
	apparentridges__Mesh r4;
	hl__types__ArrayBytes_Float r8, r12, r14;
	double r13, r16;
	vdynamic *r9;
	varray *r10;
	vbyte *r7;
	int r5, r6, r15;
	if( r0 == NULL ) hl_null_access();
	r4 = r0->mesh;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->vertices;
	if( r3 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r5 = 0;
	r6 = r2->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_11;
	r5 = 0;
	goto label$8dcb8e4_3_15;
	label$8dcb8e4_3_11:
	r7 = r2->bytes;
	r6 = 2;
	r6 = r5 << r6;
	r5 = *(int*)(r7 + r6);
	label$8dcb8e4_3_15:
	r6 = r3->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_19;
	r8 = NULL;
	goto label$8dcb8e4_3_22;
	label$8dcb8e4_3_19:
	r10 = r3->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = (hl__types__ArrayBytes_Float)hl_dyn_castp(&r9,&t$_dyn,&t$hl_types_ArrayBytes_Float);
	label$8dcb8e4_3_22:
	if( r1 == NULL ) hl_null_access();
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_33;
	r13 = 0.;
	goto label$8dcb8e4_3_37;
	label$8dcb8e4_3_33:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_37:
	if( r8 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_43;
	r16 = 0.;
	goto label$8dcb8e4_3_47;
	label$8dcb8e4_3_43:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_47:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_51;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_51:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_65;
	r13 = 0.;
	goto label$8dcb8e4_3_69;
	label$8dcb8e4_3_65:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_69:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_74;
	r16 = 0.;
	goto label$8dcb8e4_3_78;
	label$8dcb8e4_3_74:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_78:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_82;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_82:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_96;
	r13 = 0.;
	goto label$8dcb8e4_3_100;
	label$8dcb8e4_3_96:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_100:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_105;
	r16 = 0.;
	goto label$8dcb8e4_3_109;
	label$8dcb8e4_3_105:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_109:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_113;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_113:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_127;
	r13 = 0.;
	goto label$8dcb8e4_3_131;
	label$8dcb8e4_3_127:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_131:
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_136;
	r16 = 0.;
	goto label$8dcb8e4_3_140;
	label$8dcb8e4_3_136:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_140:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_144;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_144:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_158;
	r13 = 0.;
	goto label$8dcb8e4_3_162;
	label$8dcb8e4_3_158:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_162:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_167;
	r16 = 0.;
	goto label$8dcb8e4_3_171;
	label$8dcb8e4_3_167:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_171:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_175;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_175:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_189;
	r13 = 0.;
	goto label$8dcb8e4_3_193;
	label$8dcb8e4_3_189:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_193:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_198;
	r16 = 0.;
	goto label$8dcb8e4_3_202;
	label$8dcb8e4_3_198:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_202:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_206;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_206:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r4 = r0->mesh;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->vertices;
	if( r3 == NULL ) hl_null_access();
	r5 = 1;
	r6 = r2->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_219;
	r5 = 0;
	goto label$8dcb8e4_3_223;
	label$8dcb8e4_3_219:
	r7 = r2->bytes;
	r6 = 2;
	r6 = r5 << r6;
	r5 = *(int*)(r7 + r6);
	label$8dcb8e4_3_223:
	r6 = r3->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_227;
	r8 = NULL;
	goto label$8dcb8e4_3_230;
	label$8dcb8e4_3_227:
	r10 = r3->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = (hl__types__ArrayBytes_Float)hl_dyn_castp(&r9,&t$_dyn,&t$hl_types_ArrayBytes_Float);
	label$8dcb8e4_3_230:
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_240;
	r13 = 0.;
	goto label$8dcb8e4_3_244;
	label$8dcb8e4_3_240:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_244:
	if( r8 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_250;
	r16 = 0.;
	goto label$8dcb8e4_3_254;
	label$8dcb8e4_3_250:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_254:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_258;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_258:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_272;
	r13 = 0.;
	goto label$8dcb8e4_3_276;
	label$8dcb8e4_3_272:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_276:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_281;
	r16 = 0.;
	goto label$8dcb8e4_3_285;
	label$8dcb8e4_3_281:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_285:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_289;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_289:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_303;
	r13 = 0.;
	goto label$8dcb8e4_3_307;
	label$8dcb8e4_3_303:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_307:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_312;
	r16 = 0.;
	goto label$8dcb8e4_3_316;
	label$8dcb8e4_3_312:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_316:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_320;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_320:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_334;
	r13 = 0.;
	goto label$8dcb8e4_3_338;
	label$8dcb8e4_3_334:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_338:
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_343;
	r16 = 0.;
	goto label$8dcb8e4_3_347;
	label$8dcb8e4_3_343:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_347:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_351;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_351:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_365;
	r13 = 0.;
	goto label$8dcb8e4_3_369;
	label$8dcb8e4_3_365:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_369:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_374;
	r16 = 0.;
	goto label$8dcb8e4_3_378;
	label$8dcb8e4_3_374:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_378:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_382;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_382:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_396;
	r13 = 0.;
	goto label$8dcb8e4_3_400;
	label$8dcb8e4_3_396:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_400:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_405;
	r16 = 0.;
	goto label$8dcb8e4_3_409;
	label$8dcb8e4_3_405:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_409:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_413;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_413:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r4 = r0->mesh;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->vertices;
	if( r3 == NULL ) hl_null_access();
	r5 = 2;
	r6 = r2->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_426;
	r5 = 0;
	goto label$8dcb8e4_3_430;
	label$8dcb8e4_3_426:
	r7 = r2->bytes;
	r6 = 2;
	r6 = r5 << r6;
	r5 = *(int*)(r7 + r6);
	label$8dcb8e4_3_430:
	r6 = r3->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_434;
	r8 = NULL;
	goto label$8dcb8e4_3_437;
	label$8dcb8e4_3_434:
	r10 = r3->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = (hl__types__ArrayBytes_Float)hl_dyn_castp(&r9,&t$_dyn,&t$hl_types_ArrayBytes_Float);
	label$8dcb8e4_3_437:
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_447;
	r13 = 0.;
	goto label$8dcb8e4_3_451;
	label$8dcb8e4_3_447:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_451:
	if( r8 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_457;
	r16 = 0.;
	goto label$8dcb8e4_3_461;
	label$8dcb8e4_3_457:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_461:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_465;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_465:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_479;
	r13 = 0.;
	goto label$8dcb8e4_3_483;
	label$8dcb8e4_3_479:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_483:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_488;
	r16 = 0.;
	goto label$8dcb8e4_3_492;
	label$8dcb8e4_3_488:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_492:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_496;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_496:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->min;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->min;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_510;
	r13 = 0.;
	goto label$8dcb8e4_3_514;
	label$8dcb8e4_3_510:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_514:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_519;
	r16 = 0.;
	goto label$8dcb8e4_3_523;
	label$8dcb8e4_3_519:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_523:
	r13 = Math_min(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_527;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_527:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 0;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_541;
	r13 = 0.;
	goto label$8dcb8e4_3_545;
	label$8dcb8e4_3_541:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_545:
	r6 = 0;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_550;
	r16 = 0.;
	goto label$8dcb8e4_3_554;
	label$8dcb8e4_3_550:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_554:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_558;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_558:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 1;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 1;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_572;
	r13 = 0.;
	goto label$8dcb8e4_3_576;
	label$8dcb8e4_3_572:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_576:
	r6 = 1;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_581;
	r16 = 0.;
	goto label$8dcb8e4_3_585;
	label$8dcb8e4_3_581:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_585:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_589;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_589:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	r12 = r1->max;
	if( r12 == NULL ) hl_null_access();
	r5 = 2;
	r14 = r1->max;
	if( r14 == NULL ) hl_null_access();
	r6 = 2;
	r15 = r14->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_603;
	r13 = 0.;
	goto label$8dcb8e4_3_607;
	label$8dcb8e4_3_603:
	r7 = r14->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r13 = *(double*)(r7 + r15);
	label$8dcb8e4_3_607:
	r6 = 2;
	r15 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$8dcb8e4_3_612;
	r16 = 0.;
	goto label$8dcb8e4_3_616;
	label$8dcb8e4_3_612:
	r7 = r8->bytes;
	r15 = 3;
	r15 = r6 << r15;
	r16 = *(double*)(r7 + r15);
	label$8dcb8e4_3_616:
	r13 = Math_max(r13,r16);
	r6 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r6) ) goto label$8dcb8e4_3_620;
	hl_types_ArrayBytes_Float___expand(r12,r5);
	label$8dcb8e4_3_620:
	r7 = r12->bytes;
	r6 = 3;
	r6 = r5 << r6;
	*(double*)(r7 + r6) = r13;
	return;
}

int apparentridges_BVHTree_build__$3(venum* r0,hl__types__ArrayBytes_Int r1,hl__types__ArrayBytes_Int r2) {
	apparentridges__BBox r3, r5;
	apparentridges__BVHPartition r20;
	hl__types__ArrayBytes_Float r7, r8, r9, r15, r18, r19, r21, r22;
	double r13, r17, r23, r24;
	vclosure *r6;
	vdynamic *r12;
	int r11, r14, r16;
	vbyte *r10;
	r3 = (apparentridges__BBox)hl_alloc_obj(&t$apparentridges_BBox);
	apparentridges_BBox_new(r3);
	r5 = (apparentridges__BBox)hl_alloc_obj(&t$apparentridges_BBox);
	apparentridges_BBox_new(r5);
	r6 = ((Enumt$ctx_ac79a5d*)r0)->p0;
	if( r6 == NULL ) hl_null_access();
	r6->hasValue ? ((void (*)(vdynamic*,apparentridges__BBox,hl__types__ArrayBytes_Int))r6->fun)((vdynamic*)r6->value,r3,r1) : ((void (*)(apparentridges__BBox,hl__types__ArrayBytes_Int))r6->fun)(r3,r1);
	r6 = ((Enumt$ctx_ac79a5d*)r0)->p0;
	if( r6 == NULL ) hl_null_access();
	r6->hasValue ? ((void (*)(vdynamic*,apparentridges__BBox,hl__types__ArrayBytes_Int))r6->fun)((vdynamic*)r6->value,r5,r2) : ((void (*)(apparentridges__BBox,hl__types__ArrayBytes_Int))r6->fun)(r5,r2);
	r7 = r3->min;
	r8 = r3->max;
	r11 = 0;
	r10 = hl_alloc_bytes(r11);
	r11 = 0;
	r11 = 0;
	r9 = hl_types_ArrayBase_allocF64(r10,r11);
	if( r9 == NULL ) hl_null_access();
	r11 = 2;
	r12 = NULL;
	r13 = (double)hl_dyn_castd(&r12,&t$_dyn);
	r14 = r9->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_24;
	hl_types_ArrayBytes_Float___expand(r9,r11);
	label$8dcb8e4_4_24:
	r10 = r9->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 0;
	if( r7 == NULL ) hl_null_access();
	r14 = 0;
	r16 = r7->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_35;
	r13 = 0.;
	goto label$8dcb8e4_4_39;
	label$8dcb8e4_4_35:
	r10 = r7->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_39:
	if( r8 == NULL ) hl_null_access();
	r14 = 0;
	r16 = r8->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_45;
	r17 = 0.;
	goto label$8dcb8e4_4_49;
	label$8dcb8e4_4_45:
	r10 = r8->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_49:
	r13 = r13 + r17;
	r14 = r9->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_53;
	hl_types_ArrayBytes_Float___expand(r9,r11);
	label$8dcb8e4_4_53:
	r10 = r9->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 1;
	r14 = 1;
	r16 = r7->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_63;
	r13 = 0.;
	goto label$8dcb8e4_4_67;
	label$8dcb8e4_4_63:
	r10 = r7->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_67:
	r14 = 1;
	r16 = r8->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_72;
	r17 = 0.;
	goto label$8dcb8e4_4_76;
	label$8dcb8e4_4_72:
	r10 = r8->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_76:
	r13 = r13 + r17;
	r14 = r9->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_80;
	hl_types_ArrayBytes_Float___expand(r9,r11);
	label$8dcb8e4_4_80:
	r10 = r9->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 2;
	r14 = 2;
	r16 = r7->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_90;
	r13 = 0.;
	goto label$8dcb8e4_4_94;
	label$8dcb8e4_4_90:
	r10 = r7->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_94:
	r14 = 2;
	r16 = r8->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_99;
	r17 = 0.;
	goto label$8dcb8e4_4_103;
	label$8dcb8e4_4_99:
	r10 = r8->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_103:
	r13 = r13 + r17;
	r14 = r9->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_107;
	hl_types_ArrayBytes_Float___expand(r9,r11);
	label$8dcb8e4_4_107:
	r10 = r9->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 0;
	r10 = hl_alloc_bytes(r11);
	r11 = 0;
	r11 = 0;
	r15 = hl_types_ArrayBase_allocF64(r10,r11);
	if( r15 == NULL ) hl_null_access();
	r11 = 2;
	r12 = NULL;
	r13 = (double)hl_dyn_castd(&r12,&t$_dyn);
	r14 = r15->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_123;
	hl_types_ArrayBytes_Float___expand(r15,r11);
	label$8dcb8e4_4_123:
	r10 = r15->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 0;
	r14 = 0;
	r16 = r9->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_133;
	r13 = 0.;
	goto label$8dcb8e4_4_137;
	label$8dcb8e4_4_133:
	r10 = r9->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_137:
	r17 = 0.5;
	r13 = r13 * r17;
	r14 = r15->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_142;
	hl_types_ArrayBytes_Float___expand(r15,r11);
	label$8dcb8e4_4_142:
	r10 = r15->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 1;
	r14 = 1;
	r16 = r9->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_152;
	r13 = 0.;
	goto label$8dcb8e4_4_156;
	label$8dcb8e4_4_152:
	r10 = r9->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_156:
	r17 = 0.5;
	r13 = r13 * r17;
	r14 = r15->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_161;
	hl_types_ArrayBytes_Float___expand(r15,r11);
	label$8dcb8e4_4_161:
	r10 = r15->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r11 = 2;
	r14 = 2;
	r16 = r9->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_171;
	r13 = 0.;
	goto label$8dcb8e4_4_175;
	label$8dcb8e4_4_171:
	r10 = r9->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r13 = *(double*)(r10 + r16);
	label$8dcb8e4_4_175:
	r17 = 0.5;
	r13 = r13 * r17;
	r14 = r15->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_180;
	hl_types_ArrayBytes_Float___expand(r15,r11);
	label$8dcb8e4_4_180:
	r10 = r15->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r13;
	r20 = ((Enumt$ctx_ac79a5d*)r0)->p1;
	if( r20 == NULL ) hl_null_access();
	r11 = r20->axis;
	r14 = r15->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_191;
	r13 = 0.;
	goto label$8dcb8e4_4_195;
	label$8dcb8e4_4_191:
	r10 = r15->bytes;
	r14 = 3;
	r14 = r11 << r14;
	r13 = *(double*)(r10 + r14);
	label$8dcb8e4_4_195:
	r18 = r5->min;
	r19 = r5->max;
	r11 = 0;
	r10 = hl_alloc_bytes(r11);
	r11 = 0;
	r11 = 0;
	r21 = hl_types_ArrayBase_allocF64(r10,r11);
	if( r21 == NULL ) hl_null_access();
	r11 = 2;
	r12 = NULL;
	r17 = (double)hl_dyn_castd(&r12,&t$_dyn);
	r14 = r21->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_209;
	hl_types_ArrayBytes_Float___expand(r21,r11);
	label$8dcb8e4_4_209:
	r10 = r21->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 0;
	if( r18 == NULL ) hl_null_access();
	r14 = 0;
	r16 = r18->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_220;
	r17 = 0.;
	goto label$8dcb8e4_4_224;
	label$8dcb8e4_4_220:
	r10 = r18->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_224:
	if( r19 == NULL ) hl_null_access();
	r14 = 0;
	r16 = r19->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_230;
	r23 = 0.;
	goto label$8dcb8e4_4_234;
	label$8dcb8e4_4_230:
	r10 = r19->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r23 = *(double*)(r10 + r16);
	label$8dcb8e4_4_234:
	r17 = r17 + r23;
	r14 = r21->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_238;
	hl_types_ArrayBytes_Float___expand(r21,r11);
	label$8dcb8e4_4_238:
	r10 = r21->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 1;
	r14 = 1;
	r16 = r18->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_248;
	r17 = 0.;
	goto label$8dcb8e4_4_252;
	label$8dcb8e4_4_248:
	r10 = r18->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_252:
	r14 = 1;
	r16 = r19->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_257;
	r23 = 0.;
	goto label$8dcb8e4_4_261;
	label$8dcb8e4_4_257:
	r10 = r19->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r23 = *(double*)(r10 + r16);
	label$8dcb8e4_4_261:
	r17 = r17 + r23;
	r14 = r21->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_265;
	hl_types_ArrayBytes_Float___expand(r21,r11);
	label$8dcb8e4_4_265:
	r10 = r21->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 2;
	r14 = 2;
	r16 = r18->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_275;
	r17 = 0.;
	goto label$8dcb8e4_4_279;
	label$8dcb8e4_4_275:
	r10 = r18->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_279:
	r14 = 2;
	r16 = r19->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_284;
	r23 = 0.;
	goto label$8dcb8e4_4_288;
	label$8dcb8e4_4_284:
	r10 = r19->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r23 = *(double*)(r10 + r16);
	label$8dcb8e4_4_288:
	r17 = r17 + r23;
	r14 = r21->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_292;
	hl_types_ArrayBytes_Float___expand(r21,r11);
	label$8dcb8e4_4_292:
	r10 = r21->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 0;
	r10 = hl_alloc_bytes(r11);
	r11 = 0;
	r11 = 0;
	r22 = hl_types_ArrayBase_allocF64(r10,r11);
	if( r22 == NULL ) hl_null_access();
	r11 = 2;
	r12 = NULL;
	r17 = (double)hl_dyn_castd(&r12,&t$_dyn);
	r14 = r22->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_308;
	hl_types_ArrayBytes_Float___expand(r22,r11);
	label$8dcb8e4_4_308:
	r10 = r22->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 0;
	r14 = 0;
	r16 = r21->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_318;
	r17 = 0.;
	goto label$8dcb8e4_4_322;
	label$8dcb8e4_4_318:
	r10 = r21->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_322:
	r23 = 0.5;
	r17 = r17 * r23;
	r14 = r22->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_327;
	hl_types_ArrayBytes_Float___expand(r22,r11);
	label$8dcb8e4_4_327:
	r10 = r22->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 1;
	r14 = 1;
	r16 = r21->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_337;
	r17 = 0.;
	goto label$8dcb8e4_4_341;
	label$8dcb8e4_4_337:
	r10 = r21->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_341:
	r23 = 0.5;
	r17 = r17 * r23;
	r14 = r22->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_346;
	hl_types_ArrayBytes_Float___expand(r22,r11);
	label$8dcb8e4_4_346:
	r10 = r22->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r11 = 2;
	r14 = 2;
	r16 = r21->length;
	if( ((unsigned)r14) < ((unsigned)r16) ) goto label$8dcb8e4_4_356;
	r17 = 0.;
	goto label$8dcb8e4_4_360;
	label$8dcb8e4_4_356:
	r10 = r21->bytes;
	r16 = 3;
	r16 = r14 << r16;
	r17 = *(double*)(r10 + r16);
	label$8dcb8e4_4_360:
	r23 = 0.5;
	r17 = r17 * r23;
	r14 = r22->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_365;
	hl_types_ArrayBytes_Float___expand(r22,r11);
	label$8dcb8e4_4_365:
	r10 = r22->bytes;
	r14 = 3;
	r14 = r11 << r14;
	*(double*)(r10 + r14) = r17;
	r20 = ((Enumt$ctx_ac79a5d*)r0)->p1;
	if( r20 == NULL ) hl_null_access();
	r11 = r20->axis;
	r14 = r22->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$8dcb8e4_4_376;
	r23 = 0.;
	goto label$8dcb8e4_4_380;
	label$8dcb8e4_4_376:
	r10 = r22->bytes;
	r14 = 3;
	r14 = r11 << r14;
	r23 = *(double*)(r10 + r14);
	label$8dcb8e4_4_380:
	r17 = r13 - r23;
	r24 = 0.;
	if( !(r17 < r24) ) goto label$8dcb8e4_4_385;
	r11 = -1;
	return r11;
	label$8dcb8e4_4_385:
	r24 = 0.;
	if( !(r24 < r17) ) goto label$8dcb8e4_4_389;
	r11 = 1;
	return r11;
	label$8dcb8e4_4_389:
	r11 = 0;
	return r11;
}

apparentridges__BVHNode apparentridges_BVHTree_build__$2(venum* r0,int r1,int r2) {
	apparentridges__BBox r3, r10, r31;
	apparentridges__BVHBucket r25;
	hl__types__ArrayObj r11, r19, r30;
	venum *r56;
	hl_type *r18;
	hl__types__ArrayBase r57;
	hl__types__ArrayBytes_Int r14;
	$Math r54;
	apparentridges__BVHNode r17, r60;
	apparentridges__BVHTree r12;
	apparentridges__BVHPartition r50, r51;
	hl__types__ArrayBytes_Float r20, r33, r34, r35, r37, r38, r39, r42, r44;
	double r21, r23, r26, r27, r28, r29, r45, r46, r47, r48, r49, r52, r53;
	vclosure *r9, *r55, *r59, *r61;
	vdynamic *r15, *r58;
	vbyte *r22;
	varray *r16;
	int r5, r6, r7, r8, r13, r24, r32, r36, r40, r41, r43;
	r3 = (apparentridges__BBox)hl_alloc_obj(&t$apparentridges_BBox);
	apparentridges_BBox_new(r3);
	r5 = r1;
	r6 = r2;
	label$8dcb8e4_5_4:
	if( r5 >= r6 ) goto label$8dcb8e4_5_23;
	r7 = r5;
	++r5;
	r9 = ((Enumt$ctx_5cc8492*)r0)->p0;
	if( r9 == NULL ) hl_null_access();
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->faces;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->length;
	if( ((unsigned)r7) < ((unsigned)r13) ) goto label$8dcb8e4_5_18;
	r14 = NULL;
	goto label$8dcb8e4_5_21;
	label$8dcb8e4_5_18:
	r16 = r11->array;
	r15 = ((vdynamic**)(r16 + 1))[r7];
	r14 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r15,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	label$8dcb8e4_5_21:
	r9->hasValue ? ((void (*)(vdynamic*,apparentridges__BBox,hl__types__ArrayBytes_Int))r9->fun)((vdynamic*)r9->value,r3,r14) : ((void (*)(apparentridges__BBox,hl__types__ArrayBytes_Int))r9->fun)(r3,r14);
	goto label$8dcb8e4_5_4;
	label$8dcb8e4_5_23:
	r17 = (apparentridges__BVHNode)hl_alloc_obj(&t$apparentridges_BVHNode);
	apparentridges_BVHNode_new(r17,r3,r1,r2);
	r5 = r2 - r1;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r6 = r12->maxLeafSize;
	if( r6 < r5 ) goto label$8dcb8e4_5_31;
	return r17;
	label$8dcb8e4_5_31:
	r18 = &t$apparentridges_BVHPartition;
	r5 = 0;
	r16 = hl_alloc_array(r18,r5);
	r11 = hl_types_ArrayObj_alloc(r16);
	r5 = 0;
	label$8dcb8e4_5_36:
	r7 = 3;
	if( r5 >= r7 ) goto label$8dcb8e4_5_1529;
	r6 = r5;
	++r5;
	r18 = &t$apparentridges_BVHBucket;
	r7 = 0;
	r16 = hl_alloc_array(r18,r7);
	r19 = hl_types_ArrayObj_alloc(r16);
	if( r3 == NULL ) hl_null_access();
	r20 = r3->min;
	if( r20 == NULL ) hl_null_access();
	r8 = r20->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$8dcb8e4_5_52;
	r21 = 0.;
	goto label$8dcb8e4_5_56;
	label$8dcb8e4_5_52:
	r22 = r20->bytes;
	r8 = 3;
	r8 = r6 << r8;
	r21 = *(double*)(r22 + r8);
	label$8dcb8e4_5_56:
	r20 = r3->max;
	if( r20 == NULL ) hl_null_access();
	r8 = r20->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$8dcb8e4_5_62;
	r23 = 0.;
	goto label$8dcb8e4_5_66;
	label$8dcb8e4_5_62:
	r22 = r20->bytes;
	r8 = 3;
	r8 = r6 << r8;
	r23 = *(double*)(r22 + r8);
	label$8dcb8e4_5_66:
	r7 = 0;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r8 = r12->bucketCount;
	label$8dcb8e4_5_70:
	if( r7 >= r8 ) goto label$8dcb8e4_5_98;
	r13 = r7;
	++r7;
	r25 = (apparentridges__BVHBucket)hl_alloc_obj(&t$apparentridges_BVHBucket);
	apparentridges_BVHBucket_new(r25);
	r27 = (double)r13;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r24 = r12->bucketCount;
	r28 = (double)r24;
	r27 = r27 / r28;
	r28 = r23 - r21;
	r27 = r27 * r28;
	r26 = r21 + r27;
	r25->min = r26;
	r26 = r25->min;
	r27 = r23 - r21;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r24 = r12->bucketCount;
	r28 = (double)r24;
	r27 = r27 / r28;
	r26 = r26 + r27;
	r25->max = r26;
	if( r19 == NULL ) hl_null_access();
	r24 = hl_types_ArrayObj_push(r19,((vdynamic*)r25));
	goto label$8dcb8e4_5_70;
	label$8dcb8e4_5_98:
	r7 = r1;
	r8 = r2;
	label$8dcb8e4_5_100:
	if( r7 >= r8 ) goto label$8dcb8e4_5_724;
	r13 = r7;
	++r7;
	r10 = (apparentridges__BBox)hl_alloc_obj(&t$apparentridges_BBox);
	apparentridges_BBox_new(r10);
	r9 = ((Enumt$ctx_5cc8492*)r0)->p0;
	if( r9 == NULL ) hl_null_access();
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r30 = r12->faces;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->length;
	if( ((unsigned)r13) < ((unsigned)r32) ) goto label$8dcb8e4_5_116;
	r14 = NULL;
	goto label$8dcb8e4_5_119;
	label$8dcb8e4_5_116:
	r16 = r30->array;
	r15 = ((vdynamic**)(r16 + 1))[r13];
	r14 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r15,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	label$8dcb8e4_5_119:
	r9->hasValue ? ((void (*)(vdynamic*,apparentridges__BBox,hl__types__ArrayBytes_Int))r9->fun)((vdynamic*)r9->value,r10,r14) : ((void (*)(apparentridges__BBox,hl__types__ArrayBytes_Int))r9->fun)(r10,r14);
	r20 = r10->min;
	r33 = r10->max;
	r24 = 0;
	r22 = hl_alloc_bytes(r24);
	r24 = 0;
	r24 = 0;
	r34 = hl_types_ArrayBase_allocF64(r22,r24);
	if( r34 == NULL ) hl_null_access();
	r24 = 2;
	r15 = NULL;
	r26 = (double)hl_dyn_castd(&r15,&t$_dyn);
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_134;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_134:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 0;
	if( r20 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_145;
	r26 = 0.;
	goto label$8dcb8e4_5_149;
	label$8dcb8e4_5_145:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_149:
	if( r33 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_155;
	r27 = 0.;
	goto label$8dcb8e4_5_159;
	label$8dcb8e4_5_155:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_159:
	r26 = r26 + r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_163;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_163:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 1;
	r32 = 1;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_173;
	r26 = 0.;
	goto label$8dcb8e4_5_177;
	label$8dcb8e4_5_173:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_177:
	r32 = 1;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_182;
	r27 = 0.;
	goto label$8dcb8e4_5_186;
	label$8dcb8e4_5_182:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_186:
	r26 = r26 + r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_190;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_190:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 2;
	r32 = 2;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_200;
	r26 = 0.;
	goto label$8dcb8e4_5_204;
	label$8dcb8e4_5_200:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_204:
	r32 = 2;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_209;
	r27 = 0.;
	goto label$8dcb8e4_5_213;
	label$8dcb8e4_5_209:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_213:
	r26 = r26 + r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_217;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_217:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 0;
	r22 = hl_alloc_bytes(r24);
	r24 = 0;
	r24 = 0;
	r35 = hl_types_ArrayBase_allocF64(r22,r24);
	if( r35 == NULL ) hl_null_access();
	r24 = 2;
	r15 = NULL;
	r26 = (double)hl_dyn_castd(&r15,&t$_dyn);
	r32 = r35->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_233;
	hl_types_ArrayBytes_Float___expand(r35,r24);
	label$8dcb8e4_5_233:
	r22 = r35->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 0;
	r32 = 0;
	r36 = r34->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_243;
	r26 = 0.;
	goto label$8dcb8e4_5_247;
	label$8dcb8e4_5_243:
	r22 = r34->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_247:
	r27 = 0.5;
	r26 = r26 * r27;
	r32 = r35->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_252;
	hl_types_ArrayBytes_Float___expand(r35,r24);
	label$8dcb8e4_5_252:
	r22 = r35->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 1;
	r32 = 1;
	r36 = r34->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_262;
	r26 = 0.;
	goto label$8dcb8e4_5_266;
	label$8dcb8e4_5_262:
	r22 = r34->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_266:
	r27 = 0.5;
	r26 = r26 * r27;
	r32 = r35->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_271;
	hl_types_ArrayBytes_Float___expand(r35,r24);
	label$8dcb8e4_5_271:
	r22 = r35->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 2;
	r32 = 2;
	r36 = r34->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_281;
	r26 = 0.;
	goto label$8dcb8e4_5_285;
	label$8dcb8e4_5_281:
	r22 = r34->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_285:
	r27 = 0.5;
	r26 = r26 * r27;
	r32 = r35->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_290;
	hl_types_ArrayBytes_Float___expand(r35,r24);
	label$8dcb8e4_5_290:
	r22 = r35->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r38 = r35;
	r24 = 0;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r32 = r12->bucketCount;
	label$8dcb8e4_5_299:
	if( r24 >= r32 ) goto label$8dcb8e4_5_723;
	r36 = r24;
	++r24;
	if( r19 == NULL ) hl_null_access();
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_308;
	r25 = NULL;
	goto label$8dcb8e4_5_311;
	label$8dcb8e4_5_308:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_311:
	if( r25 == NULL ) hl_null_access();
	r26 = r25->min;
	if( r38 == NULL ) hl_null_access();
	r41 = r38->length;
	if( ((unsigned)r6) < ((unsigned)r41) ) goto label$8dcb8e4_5_318;
	r27 = 0.;
	goto label$8dcb8e4_5_322;
	label$8dcb8e4_5_318:
	r22 = r38->bytes;
	r41 = 3;
	r41 = r6 << r41;
	r27 = *(double*)(r22 + r41);
	label$8dcb8e4_5_322:
	if( !(r27 >= r26) ) goto label$8dcb8e4_5_722;
	r41 = r38->length;
	if( ((unsigned)r6) < ((unsigned)r41) ) goto label$8dcb8e4_5_327;
	r26 = 0.;
	goto label$8dcb8e4_5_331;
	label$8dcb8e4_5_327:
	r22 = r38->bytes;
	r41 = 3;
	r41 = r6 << r41;
	r26 = *(double*)(r22 + r41);
	label$8dcb8e4_5_331:
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_335;
	r25 = NULL;
	goto label$8dcb8e4_5_338;
	label$8dcb8e4_5_335:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_338:
	if( r25 == NULL ) hl_null_access();
	r27 = r25->max;
	if( !(r27 >= r26) ) goto label$8dcb8e4_5_722;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_345;
	r25 = NULL;
	goto label$8dcb8e4_5_348;
	label$8dcb8e4_5_345:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_348:
	if( r25 == NULL ) hl_null_access();
	r40 = r25->count;
	++r40;
	r25->count = r40;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_356;
	r25 = NULL;
	goto label$8dcb8e4_5_359;
	label$8dcb8e4_5_356:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_359:
	if( r25 == NULL ) hl_null_access();
	r31 = r25->bbox;
	if( r31 == NULL ) hl_null_access();
	r39 = r31->min;
	if( r39 == NULL ) hl_null_access();
	r40 = 0;
	r42 = r31->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_372;
	r26 = 0.;
	goto label$8dcb8e4_5_376;
	label$8dcb8e4_5_372:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_376:
	if( r10 == NULL ) hl_null_access();
	r42 = r10->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_384;
	r27 = 0.;
	goto label$8dcb8e4_5_388;
	label$8dcb8e4_5_384:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_388:
	r26 = Math_min(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_392;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_392:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r39 = r31->min;
	if( r39 == NULL ) hl_null_access();
	r40 = 1;
	r42 = r31->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_406;
	r26 = 0.;
	goto label$8dcb8e4_5_410;
	label$8dcb8e4_5_406:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_410:
	r42 = r10->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_417;
	r27 = 0.;
	goto label$8dcb8e4_5_421;
	label$8dcb8e4_5_417:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_421:
	r26 = Math_min(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_425;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_425:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r39 = r31->min;
	if( r39 == NULL ) hl_null_access();
	r40 = 2;
	r42 = r31->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_439;
	r26 = 0.;
	goto label$8dcb8e4_5_443;
	label$8dcb8e4_5_439:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_443:
	r42 = r10->min;
	if( r42 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_450;
	r27 = 0.;
	goto label$8dcb8e4_5_454;
	label$8dcb8e4_5_450:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_454:
	r26 = Math_min(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_458;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_458:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r39 = r31->max;
	if( r39 == NULL ) hl_null_access();
	r40 = 0;
	r42 = r31->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_472;
	r26 = 0.;
	goto label$8dcb8e4_5_476;
	label$8dcb8e4_5_472:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_476:
	r42 = r10->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_483;
	r27 = 0.;
	goto label$8dcb8e4_5_487;
	label$8dcb8e4_5_483:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_487:
	r26 = Math_max(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_491;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_491:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r39 = r31->max;
	if( r39 == NULL ) hl_null_access();
	r40 = 1;
	r42 = r31->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_505;
	r26 = 0.;
	goto label$8dcb8e4_5_509;
	label$8dcb8e4_5_505:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_509:
	r42 = r10->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_516;
	r27 = 0.;
	goto label$8dcb8e4_5_520;
	label$8dcb8e4_5_516:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_520:
	r26 = Math_max(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_524;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_524:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r39 = r31->max;
	if( r39 == NULL ) hl_null_access();
	r40 = 2;
	r42 = r31->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_538;
	r26 = 0.;
	goto label$8dcb8e4_5_542;
	label$8dcb8e4_5_538:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_542:
	r42 = r10->max;
	if( r42 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_549;
	r27 = 0.;
	goto label$8dcb8e4_5_553;
	label$8dcb8e4_5_549:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_553:
	r26 = Math_max(r26,r27);
	r41 = r39->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_557;
	hl_types_ArrayBytes_Float___expand(r39,r40);
	label$8dcb8e4_5_557:
	r22 = r39->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_565;
	r25 = NULL;
	goto label$8dcb8e4_5_568;
	label$8dcb8e4_5_565:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_568:
	if( r25 == NULL ) hl_null_access();
	r26 = r25->area;
	r39 = r10->max;
	r42 = r10->min;
	r40 = 0;
	r22 = hl_alloc_bytes(r40);
	r40 = 0;
	r40 = 0;
	r44 = hl_types_ArrayBase_allocF64(r22,r40);
	if( r44 == NULL ) hl_null_access();
	r40 = 2;
	r15 = NULL;
	r27 = (double)hl_dyn_castd(&r15,&t$_dyn);
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_584;
	hl_types_ArrayBytes_Float___expand(r44,r40);
	label$8dcb8e4_5_584:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r27;
	r40 = 0;
	if( r39 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r39->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_595;
	r27 = 0.;
	goto label$8dcb8e4_5_599;
	label$8dcb8e4_5_595:
	r22 = r39->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_599:
	if( r42 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_605;
	r28 = 0.;
	goto label$8dcb8e4_5_609;
	label$8dcb8e4_5_605:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r28 = *(double*)(r22 + r43);
	label$8dcb8e4_5_609:
	r27 = r27 - r28;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_613;
	hl_types_ArrayBytes_Float___expand(r44,r40);
	label$8dcb8e4_5_613:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r27;
	r40 = 1;
	r41 = 1;
	r43 = r39->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_623;
	r27 = 0.;
	goto label$8dcb8e4_5_627;
	label$8dcb8e4_5_623:
	r22 = r39->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_627:
	r41 = 1;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_632;
	r28 = 0.;
	goto label$8dcb8e4_5_636;
	label$8dcb8e4_5_632:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r28 = *(double*)(r22 + r43);
	label$8dcb8e4_5_636:
	r27 = r27 - r28;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_640;
	hl_types_ArrayBytes_Float___expand(r44,r40);
	label$8dcb8e4_5_640:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r27;
	r40 = 2;
	r41 = 2;
	r43 = r39->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_650;
	r27 = 0.;
	goto label$8dcb8e4_5_654;
	label$8dcb8e4_5_650:
	r22 = r39->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_654:
	r41 = 2;
	r43 = r42->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_659;
	r28 = 0.;
	goto label$8dcb8e4_5_663;
	label$8dcb8e4_5_659:
	r22 = r42->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r28 = *(double*)(r22 + r43);
	label$8dcb8e4_5_663:
	r27 = r27 - r28;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_667;
	hl_types_ArrayBytes_Float___expand(r44,r40);
	label$8dcb8e4_5_667:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r27;
	r40 = 0;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_676;
	r27 = 0.;
	goto label$8dcb8e4_5_680;
	label$8dcb8e4_5_676:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	r27 = *(double*)(r22 + r41);
	label$8dcb8e4_5_680:
	r28 = 0.;
	r27 = Math_max(r27,r28);
	r40 = 1;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_687;
	r28 = 0.;
	goto label$8dcb8e4_5_691;
	label$8dcb8e4_5_687:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	r28 = *(double*)(r22 + r41);
	label$8dcb8e4_5_691:
	r29 = 0.;
	r28 = Math_max(r28,r29);
	r40 = 2;
	r41 = r44->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_698;
	r29 = 0.;
	goto label$8dcb8e4_5_702;
	label$8dcb8e4_5_698:
	r22 = r44->bytes;
	r41 = 3;
	r41 = r40 << r41;
	r29 = *(double*)(r22 + r41);
	label$8dcb8e4_5_702:
	r45 = 0.;
	r29 = Math_max(r29,r45);
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_708;
	r25 = NULL;
	goto label$8dcb8e4_5_711;
	label$8dcb8e4_5_708:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_711:
	if( r25 == NULL ) hl_null_access();
	r46 = 2.;
	r47 = r27 * r29;
	r48 = r27 * r28;
	r47 = r47 + r48;
	r48 = r28 * r29;
	r47 = r47 + r48;
	r46 = r46 * r47;
	r45 = r26 + r46;
	r25->area = r45;
	goto label$8dcb8e4_5_723;
	label$8dcb8e4_5_722:
	goto label$8dcb8e4_5_299;
	label$8dcb8e4_5_723:
	goto label$8dcb8e4_5_100;
	label$8dcb8e4_5_724:
	r7 = 0;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r8 = r12->bucketCount;
	label$8dcb8e4_5_728:
	if( r7 >= r8 ) goto label$8dcb8e4_5_1528;
	r13 = r7;
	++r7;
	r50 = (apparentridges__BVHPartition)hl_alloc_obj(&t$apparentridges_BVHPartition);
	apparentridges_BVHPartition_new(r50);
	r50->planeIndex = r13;
	r50->axis = r6;
	r24 = 0;
	r32 = r13;
	label$8dcb8e4_5_738:
	if( r24 >= r32 ) goto label$8dcb8e4_5_979;
	r36 = r24;
	++r24;
	if( r50 == NULL ) hl_null_access();
	r40 = r50->leftCount;
	if( r19 == NULL ) hl_null_access();
	r43 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r43) ) goto label$8dcb8e4_5_749;
	r25 = NULL;
	goto label$8dcb8e4_5_752;
	label$8dcb8e4_5_749:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_752:
	if( r25 == NULL ) hl_null_access();
	r41 = r25->count;
	r40 = r40 + r41;
	r50->leftCount = r40;
	r26 = r50->leftArea;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_761;
	r25 = NULL;
	goto label$8dcb8e4_5_764;
	label$8dcb8e4_5_761:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_764:
	if( r25 == NULL ) hl_null_access();
	r27 = r25->area;
	r26 = r26 + r27;
	r50->leftArea = r26;
	r10 = r50->leftBBox;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_773;
	r25 = NULL;
	goto label$8dcb8e4_5_776;
	label$8dcb8e4_5_773:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_776:
	if( r25 == NULL ) hl_null_access();
	r31 = r25->bbox;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 0;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_789;
	r26 = 0.;
	goto label$8dcb8e4_5_793;
	label$8dcb8e4_5_789:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_793:
	if( r31 == NULL ) hl_null_access();
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_801;
	r27 = 0.;
	goto label$8dcb8e4_5_805;
	label$8dcb8e4_5_801:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_805:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_809;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_809:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 1;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_823;
	r26 = 0.;
	goto label$8dcb8e4_5_827;
	label$8dcb8e4_5_823:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_827:
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_834;
	r27 = 0.;
	goto label$8dcb8e4_5_838;
	label$8dcb8e4_5_834:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_838:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_842;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_842:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 2;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_856;
	r26 = 0.;
	goto label$8dcb8e4_5_860;
	label$8dcb8e4_5_856:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_860:
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_867;
	r27 = 0.;
	goto label$8dcb8e4_5_871;
	label$8dcb8e4_5_867:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_871:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_875;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_875:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 0;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_889;
	r26 = 0.;
	goto label$8dcb8e4_5_893;
	label$8dcb8e4_5_889:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_893:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_900;
	r27 = 0.;
	goto label$8dcb8e4_5_904;
	label$8dcb8e4_5_900:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_904:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_908;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_908:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 1;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_922;
	r26 = 0.;
	goto label$8dcb8e4_5_926;
	label$8dcb8e4_5_922:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_926:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_933;
	r27 = 0.;
	goto label$8dcb8e4_5_937;
	label$8dcb8e4_5_933:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_937:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_941;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_941:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 2;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_955;
	r26 = 0.;
	goto label$8dcb8e4_5_959;
	label$8dcb8e4_5_955:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_959:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_966;
	r27 = 0.;
	goto label$8dcb8e4_5_970;
	label$8dcb8e4_5_966:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_970:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_974;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_974:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	goto label$8dcb8e4_5_738;
	label$8dcb8e4_5_979:
	r24 = r13;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r32 = r12->bucketCount;
	label$8dcb8e4_5_983:
	if( r24 >= r32 ) goto label$8dcb8e4_5_1224;
	r36 = r24;
	++r24;
	if( r50 == NULL ) hl_null_access();
	r40 = r50->rightCount;
	if( r19 == NULL ) hl_null_access();
	r43 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r43) ) goto label$8dcb8e4_5_994;
	r25 = NULL;
	goto label$8dcb8e4_5_997;
	label$8dcb8e4_5_994:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_997:
	if( r25 == NULL ) hl_null_access();
	r41 = r25->count;
	r40 = r40 + r41;
	r50->rightCount = r40;
	r26 = r50->rightArea;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_1006;
	r25 = NULL;
	goto label$8dcb8e4_5_1009;
	label$8dcb8e4_5_1006:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_1009:
	if( r25 == NULL ) hl_null_access();
	r27 = r25->area;
	r26 = r26 + r27;
	r50->rightArea = r26;
	r10 = r50->rightBBox;
	r41 = r19->length;
	if( ((unsigned)r36) < ((unsigned)r41) ) goto label$8dcb8e4_5_1018;
	r25 = NULL;
	goto label$8dcb8e4_5_1021;
	label$8dcb8e4_5_1018:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r36];
	r25 = (apparentridges__BVHBucket)r15;
	label$8dcb8e4_5_1021:
	if( r25 == NULL ) hl_null_access();
	r31 = r25->bbox;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 0;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1034;
	r26 = 0.;
	goto label$8dcb8e4_5_1038;
	label$8dcb8e4_5_1034:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1038:
	if( r31 == NULL ) hl_null_access();
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1046;
	r27 = 0.;
	goto label$8dcb8e4_5_1050;
	label$8dcb8e4_5_1046:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1050:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1054;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1054:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 1;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1068;
	r26 = 0.;
	goto label$8dcb8e4_5_1072;
	label$8dcb8e4_5_1068:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1072:
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1079;
	r27 = 0.;
	goto label$8dcb8e4_5_1083;
	label$8dcb8e4_5_1079:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1083:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1087;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1087:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->min;
	if( r20 == NULL ) hl_null_access();
	r40 = 2;
	r33 = r10->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1101;
	r26 = 0.;
	goto label$8dcb8e4_5_1105;
	label$8dcb8e4_5_1101:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1105:
	r33 = r31->min;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1112;
	r27 = 0.;
	goto label$8dcb8e4_5_1116;
	label$8dcb8e4_5_1112:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1116:
	r26 = Math_min(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1120;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1120:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 0;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1134;
	r26 = 0.;
	goto label$8dcb8e4_5_1138;
	label$8dcb8e4_5_1134:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1138:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 0;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1145;
	r27 = 0.;
	goto label$8dcb8e4_5_1149;
	label$8dcb8e4_5_1145:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1149:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1153;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1153:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 1;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1167;
	r26 = 0.;
	goto label$8dcb8e4_5_1171;
	label$8dcb8e4_5_1167:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1171:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 1;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1178;
	r27 = 0.;
	goto label$8dcb8e4_5_1182;
	label$8dcb8e4_5_1178:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1182:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1186;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1186:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	r20 = r10->max;
	if( r20 == NULL ) hl_null_access();
	r40 = 2;
	r33 = r10->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1200;
	r26 = 0.;
	goto label$8dcb8e4_5_1204;
	label$8dcb8e4_5_1200:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r26 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1204:
	r33 = r31->max;
	if( r33 == NULL ) hl_null_access();
	r41 = 2;
	r43 = r33->length;
	if( ((unsigned)r41) < ((unsigned)r43) ) goto label$8dcb8e4_5_1211;
	r27 = 0.;
	goto label$8dcb8e4_5_1215;
	label$8dcb8e4_5_1211:
	r22 = r33->bytes;
	r43 = 3;
	r43 = r41 << r43;
	r27 = *(double*)(r22 + r43);
	label$8dcb8e4_5_1215:
	r26 = Math_max(r26,r27);
	r41 = r20->length;
	if( ((unsigned)r40) < ((unsigned)r41) ) goto label$8dcb8e4_5_1219;
	hl_types_ArrayBytes_Float___expand(r20,r40);
	label$8dcb8e4_5_1219:
	r22 = r20->bytes;
	r41 = 3;
	r41 = r40 << r41;
	*(double*)(r22 + r41) = r26;
	goto label$8dcb8e4_5_983;
	label$8dcb8e4_5_1224:
	if( r50 == NULL ) hl_null_access();
	r24 = r50->leftCount;
	r32 = 0;
	if( r32 >= r24 ) goto label$8dcb8e4_5_1527;
	r24 = r50->rightCount;
	r32 = 0;
	if( r32 >= r24 ) goto label$8dcb8e4_5_1527;
	r10 = r50->leftBBox;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->max;
	r33 = r10->min;
	r24 = 0;
	r22 = hl_alloc_bytes(r24);
	r24 = 0;
	r24 = 0;
	r34 = hl_types_ArrayBase_allocF64(r22,r24);
	if( r34 == NULL ) hl_null_access();
	r24 = 2;
	r15 = NULL;
	r26 = (double)hl_dyn_castd(&r15,&t$_dyn);
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1247;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_1247:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 0;
	if( r20 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1258;
	r26 = 0.;
	goto label$8dcb8e4_5_1262;
	label$8dcb8e4_5_1258:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1262:
	if( r33 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1268;
	r27 = 0.;
	goto label$8dcb8e4_5_1272;
	label$8dcb8e4_5_1268:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1272:
	r26 = r26 - r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1276;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_1276:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 1;
	r32 = 1;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1286;
	r26 = 0.;
	goto label$8dcb8e4_5_1290;
	label$8dcb8e4_5_1286:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1290:
	r32 = 1;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1295;
	r27 = 0.;
	goto label$8dcb8e4_5_1299;
	label$8dcb8e4_5_1295:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1299:
	r26 = r26 - r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1303;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_1303:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 2;
	r32 = 2;
	r36 = r20->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1313;
	r26 = 0.;
	goto label$8dcb8e4_5_1317;
	label$8dcb8e4_5_1313:
	r22 = r20->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r26 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1317:
	r32 = 2;
	r36 = r33->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1322;
	r27 = 0.;
	goto label$8dcb8e4_5_1326;
	label$8dcb8e4_5_1322:
	r22 = r33->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r27 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1326:
	r26 = r26 - r27;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1330;
	hl_types_ArrayBytes_Float___expand(r34,r24);
	label$8dcb8e4_5_1330:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r26;
	r24 = 0;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1339;
	r26 = 0.;
	goto label$8dcb8e4_5_1343;
	label$8dcb8e4_5_1339:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r26 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1343:
	r27 = 0.;
	r26 = Math_max(r26,r27);
	r24 = 1;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1350;
	r27 = 0.;
	goto label$8dcb8e4_5_1354;
	label$8dcb8e4_5_1350:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r27 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1354:
	r28 = 0.;
	r27 = Math_max(r27,r28);
	r24 = 2;
	r32 = r34->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1361;
	r28 = 0.;
	goto label$8dcb8e4_5_1365;
	label$8dcb8e4_5_1361:
	r22 = r34->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r28 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1365:
	r29 = 0.;
	r28 = Math_max(r28,r29);
	r29 = 2.;
	r45 = r26 * r28;
	r46 = r26 * r27;
	r45 = r45 + r46;
	r46 = r27 * r28;
	r45 = r45 + r46;
	r29 = r29 * r45;
	r24 = r50->leftCount;
	r45 = (double)r24;
	r29 = r29 / r45;
	r31 = r50->rightBBox;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->max;
	r37 = r31->min;
	r24 = 0;
	r22 = hl_alloc_bytes(r24);
	r24 = 0;
	r24 = 0;
	r38 = hl_types_ArrayBase_allocF64(r22,r24);
	if( r38 == NULL ) hl_null_access();
	r24 = 2;
	r15 = NULL;
	r45 = (double)hl_dyn_castd(&r15,&t$_dyn);
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1393;
	hl_types_ArrayBytes_Float___expand(r38,r24);
	label$8dcb8e4_5_1393:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r45;
	r24 = 0;
	if( r35 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r35->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1404;
	r45 = 0.;
	goto label$8dcb8e4_5_1408;
	label$8dcb8e4_5_1404:
	r22 = r35->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r45 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1408:
	if( r37 == NULL ) hl_null_access();
	r32 = 0;
	r36 = r37->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1414;
	r46 = 0.;
	goto label$8dcb8e4_5_1418;
	label$8dcb8e4_5_1414:
	r22 = r37->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r46 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1418:
	r45 = r45 - r46;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1422;
	hl_types_ArrayBytes_Float___expand(r38,r24);
	label$8dcb8e4_5_1422:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r45;
	r24 = 1;
	r32 = 1;
	r36 = r35->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1432;
	r45 = 0.;
	goto label$8dcb8e4_5_1436;
	label$8dcb8e4_5_1432:
	r22 = r35->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r45 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1436:
	r32 = 1;
	r36 = r37->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1441;
	r46 = 0.;
	goto label$8dcb8e4_5_1445;
	label$8dcb8e4_5_1441:
	r22 = r37->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r46 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1445:
	r45 = r45 - r46;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1449;
	hl_types_ArrayBytes_Float___expand(r38,r24);
	label$8dcb8e4_5_1449:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r45;
	r24 = 2;
	r32 = 2;
	r36 = r35->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1459;
	r45 = 0.;
	goto label$8dcb8e4_5_1463;
	label$8dcb8e4_5_1459:
	r22 = r35->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r45 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1463:
	r32 = 2;
	r36 = r37->length;
	if( ((unsigned)r32) < ((unsigned)r36) ) goto label$8dcb8e4_5_1468;
	r46 = 0.;
	goto label$8dcb8e4_5_1472;
	label$8dcb8e4_5_1468:
	r22 = r37->bytes;
	r36 = 3;
	r36 = r32 << r36;
	r46 = *(double*)(r22 + r36);
	label$8dcb8e4_5_1472:
	r45 = r45 - r46;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1476;
	hl_types_ArrayBytes_Float___expand(r38,r24);
	label$8dcb8e4_5_1476:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	*(double*)(r22 + r32) = r45;
	r24 = 0;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1485;
	r45 = 0.;
	goto label$8dcb8e4_5_1489;
	label$8dcb8e4_5_1485:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r45 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1489:
	r46 = 0.;
	r45 = Math_max(r45,r46);
	r24 = 1;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1496;
	r46 = 0.;
	goto label$8dcb8e4_5_1500;
	label$8dcb8e4_5_1496:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r46 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1500:
	r47 = 0.;
	r46 = Math_max(r46,r47);
	r24 = 2;
	r32 = r38->length;
	if( ((unsigned)r24) < ((unsigned)r32) ) goto label$8dcb8e4_5_1507;
	r47 = 0.;
	goto label$8dcb8e4_5_1511;
	label$8dcb8e4_5_1507:
	r22 = r38->bytes;
	r32 = 3;
	r32 = r24 << r32;
	r47 = *(double*)(r22 + r32);
	label$8dcb8e4_5_1511:
	r48 = 0.;
	r47 = Math_max(r47,r48);
	r49 = 2.;
	r52 = r45 * r47;
	r53 = r45 * r46;
	r52 = r52 + r53;
	r53 = r46 * r47;
	r52 = r52 + r53;
	r49 = r49 * r52;
	r24 = r50->rightCount;
	r52 = (double)r24;
	r49 = r49 / r52;
	r48 = r29 + r49;
	r50->SAH = r48;
	if( r11 == NULL ) hl_null_access();
	r24 = hl_types_ArrayObj_push(r11,((vdynamic*)r50));
	label$8dcb8e4_5_1527:
	goto label$8dcb8e4_5_728;
	label$8dcb8e4_5_1528:
	goto label$8dcb8e4_5_36;
	label$8dcb8e4_5_1529:
	if( r11 == NULL ) hl_null_access();
	r5 = r11->length;
	r6 = 0;
	if( r5 != r6 ) goto label$8dcb8e4_5_1534;
	return r17;
	label$8dcb8e4_5_1534:
	r54 = ($Math)g$_Math;
	r21 = r54->POSITIVE_INFINITY;
	r50 = NULL;
	r5 = 0;
	label$8dcb8e4_5_1538:
	if( r11 == NULL ) hl_null_access();
	r7 = r11->length;
	if( r5 >= r7 ) goto label$8dcb8e4_5_1557;
	r7 = r11->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$8dcb8e4_5_1546;
	r51 = NULL;
	goto label$8dcb8e4_5_1549;
	label$8dcb8e4_5_1546:
	r16 = r11->array;
	r15 = ((vdynamic**)(r16 + 1))[r5];
	r51 = (apparentridges__BVHPartition)r15;
	label$8dcb8e4_5_1549:
	++r5;
	if( r51 == NULL ) hl_null_access();
	r23 = r51->SAH;
	if( !(r23 < r21) ) goto label$8dcb8e4_5_1556;
	r23 = r51->SAH;
	r21 = r23;
	r50 = r51;
	label$8dcb8e4_5_1556:
	goto label$8dcb8e4_5_1538;
	label$8dcb8e4_5_1557:
	r56 = hl_alloc_enum(&t$ctx_ac79a5d,0);
	r9 = ((Enumt$ctx_5cc8492*)r0)->p0;
	((Enumt$ctx_ac79a5d*)r56)->p0 = (vclosure*)r9;
	((Enumt$ctx_ac79a5d*)r56)->p1 = (apparentridges__BVHPartition)r50;
	r55 = hl_alloc_closure_ptr(&t$fun_5ba86e3,apparentridges_BVHTree_build__$3,r56);
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r19 = r12->faces;
	if( r19 == NULL ) hl_null_access();
	r58 = hl_alloc_dynamic(&t$_i32);
	r58->v.i = r2;
	r57 = hl_types_ArrayObj_slice(r19,r1,r58);
	r19 = (hl__types__ArrayObj)hl_dyn_castp(&r57,&t$hl_types_ArrayBase,&t$hl_types_ArrayObj);
	if( r19 == NULL ) hl_null_access();
	if( r55 ) goto label$8dcb8e4_5_1573;
	r59 = NULL;
	goto label$8dcb8e4_5_1574;
	label$8dcb8e4_5_1573:
	r59 = hl_alloc_closure_ptr(&t$fun_08c7f86,apparentridges_BVHTree_build__$4,r55);
	label$8dcb8e4_5_1574:
	hl_types_ArrayObj_sort(r19,r59);
	r5 = r1;
	r6 = r2;
	label$8dcb8e4_5_1577:
	if( r5 >= r6 ) goto label$8dcb8e4_5_1600;
	r7 = r5;
	++r5;
	r12 = ((Enumt$ctx_5cc8492*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r30 = r12->faces;
	if( r30 == NULL ) hl_null_access();
	if( r19 == NULL ) hl_null_access();
	r13 = r7 - r1;
	r24 = r19->length;
	if( ((unsigned)r13) < ((unsigned)r24) ) goto label$8dcb8e4_5_1591;
	r14 = NULL;
	goto label$8dcb8e4_5_1594;
	label$8dcb8e4_5_1591:
	r16 = r19->array;
	r15 = ((vdynamic**)(r16 + 1))[r13];
	r14 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r15,&t$_dyn,&t$hl_types_ArrayBytes_Int);
	label$8dcb8e4_5_1594:
	r13 = r30->length;
	if( ((unsigned)r7) < ((unsigned)r13) ) goto label$8dcb8e4_5_1597;
	hl_types_ArrayObj___expand(r30,r7);
	label$8dcb8e4_5_1597:
	r16 = r30->array;
	((hl__types__ArrayBytes_Int*)(r16 + 1))[r7] = r14;
	goto label$8dcb8e4_5_1577;
	label$8dcb8e4_5_1600:
	if( r50 == NULL ) hl_null_access();
	r6 = r50->leftCount;
	r5 = r1 + r6;
	if( r17 == NULL ) hl_null_access();
	r30 = ((Enumt$ctx_5cc8492*)r0)->p2;
	if( r30 == NULL ) hl_null_access();
	r6 = 0;
	r7 = r30->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$8dcb8e4_5_1611;
	r61 = NULL;
	goto label$8dcb8e4_5_1614;
	label$8dcb8e4_5_1611:
	r16 = r30->array;
	r15 = ((vdynamic**)(r16 + 1))[r6];
	r61 = (vclosure*)r15;
	label$8dcb8e4_5_1614:
	if( r61 == NULL ) hl_null_access();
	r60 = r61->hasValue ? ((apparentridges__BVHNode (*)(vdynamic*,int,int))r61->fun)((vdynamic*)r61->value,r1,r5) : ((apparentridges__BVHNode (*)(int,int))r61->fun)(r1,r5);
	r17->left = r60;
	r30 = ((Enumt$ctx_5cc8492*)r0)->p2;
	if( r30 == NULL ) hl_null_access();
	r6 = 0;
	r7 = r30->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$8dcb8e4_5_1624;
	r61 = NULL;
	goto label$8dcb8e4_5_1627;
	label$8dcb8e4_5_1624:
	r16 = r30->array;
	r15 = ((vdynamic**)(r16 + 1))[r6];
	r61 = (vclosure*)r15;
	label$8dcb8e4_5_1627:
	if( r61 == NULL ) hl_null_access();
	r60 = r61->hasValue ? ((apparentridges__BVHNode (*)(vdynamic*,int,int))r61->fun)((vdynamic*)r61->value,r5,r2) : ((apparentridges__BVHNode (*)(int,int))r61->fun)(r5,r2);
	r17->right = r60;
	return r17;
}

void apparentridges_BVHTree_build(apparentridges__BVHTree r0) {
	hl__types__ArrayObj r3, r8;
	venum *r9;
	hl_type *r5;
	apparentridges__BVHNode r11;
	vclosure *r2, *r7;
	vdynamic *r12;
	int r6, r10;
	varray *r4;
	r2 = hl_alloc_closure_ptr(&t$fun_e96471a,apparentridges_BVHTree_build__$1,r0);
	r5 = &t$fun_7f200c4;
	r6 = 1;
	r4 = hl_alloc_array(r5,r6);
	r7 = NULL;
	r6 = 0;
	((vclosure**)(r4 + 1))[r6] = r7;
	r3 = hl_types_ArrayObj_alloc(r4);
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	r9 = hl_alloc_enum(&t$ctx_5cc8492,0);
	((Enumt$ctx_5cc8492*)r9)->p0 = (vclosure*)r2;
	((Enumt$ctx_5cc8492*)r9)->p1 = (apparentridges__BVHTree)r0;
	((Enumt$ctx_5cc8492*)r9)->p2 = (hl__types__ArrayObj)r3;
	r7 = hl_alloc_closure_ptr(&t$fun_63d9a60,apparentridges_BVHTree_build__$2,r9);
	r10 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r10) ) goto label$8dcb8e4_6_18;
	hl_types_ArrayObj___expand(r3,r6);
	label$8dcb8e4_6_18:
	r4 = r3->array;
	((vclosure**)(r4 + 1))[r6] = r7;
	r6 = 0;
	r10 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r10) ) goto label$8dcb8e4_6_25;
	r7 = NULL;
	goto label$8dcb8e4_6_28;
	label$8dcb8e4_6_25:
	r4 = r3->array;
	r12 = ((vdynamic**)(r4 + 1))[r6];
	r7 = (vclosure*)r12;
	label$8dcb8e4_6_28:
	if( r7 == NULL ) hl_null_access();
	r6 = 0;
	r8 = r0->faces;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	r11 = r7->hasValue ? ((apparentridges__BVHNode (*)(vdynamic*,int,int))r7->fun)((vdynamic*)r7->value,r6,r10) : ((apparentridges__BVHNode (*)(int,int))r7->fun)(r6,r10);
	r0->root = r11;
	return;
}

